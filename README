1. ArchiveBot

    <SketchCow> Coders, I have a question.
    <SketchCow> Or, a request, etc.
    <SketchCow> I spent some time with xmc discussing something we could
                do to make things easier around here.
    <SketchCow> What we came up with is a trigger for a bot, which can
                be triggered by people with ops.
    <SketchCow> You tell it a website. It crawls it. WARC. Uploads it to
                archive.org. Boom.
    <SketchCow> I can supply machine as needed.
    <SketchCow> Obviously there's some sanitation issues, and it is root
                all the way down or nothing.
    <SketchCow> I think that would help a lot for smaller sites
    <SketchCow> Sites where it's 100 pages or 1000 pages even, pretty
                simple.
    <SketchCow> And just being able to go "bot, get a sanity dump"

2. Running it

To run, you will need:

- a Redis server
- a Python 2.7 installation
- a Ruby 1.9 installation
- Bundler
- the Lua socket library
- redis-py
- wget+lua

(Little known fact: ArchiveBot is made to be as hard as possible to set
up.)

Quick install, for Debian and Debian-esque systems:

    sudo apt-get update
    sudo apt-get install liblua5.1-dev lua-socket bundler python-pip python2.7-dev gnutls-dev git tmux
    pip install --user seesaw redis
    git clone https://github.com/ArchiveTeam/ArchiveBot.git
    cd ArchiveBot
    ./get-wget-lua.sh
    bundle install

It is recommended that you build Redis from source (from
http://redis.io); the latest Debian package (as of September 2013) is
2.4.14.  That might work, but 2.6.16 is recommended.

Once that's all in place, run the following:


    redis-server   # ensure it has no password
    export REDIS_URL='redis://localhost:6379/0' # or whatever you need
    export RSYNC_URL='rsync://yourupload.example.com/some-module/'
    ruby bot.rb -s 'irc://server.example.org:6667' -c '#archivebot'
    ~/.local/bin/run-pipeline --disable-web-server --concurrent 3 pipeline.py ArchiveBot

3. License

Copyright 2013 David Yip; made avaiable under the MIT license.  See
LICENSE for details.

 vim:ts=2:sw=2:tw=72:et
